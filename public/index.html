<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- <script type="text/javascript">
      var clevertap = {
        event: [],
        profile: [],
        account: [],
        onUserLogin: [],
        notifications: [],
        privacy: [],
      };
      // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
      clevertap.account.push({ id: "TEST-98R-65Z-6K7Z" }, "eu1");
      console.log("no region specified sets it to default europe region");
      clevertap.privacy.push({ optOut: false }); //set the flag to true, if the user of the device opts out of sharing their data
      clevertap.privacy.push({ useIP: true }); //set the flag to true, if the user agrees to share their IP data
      (function () {
        var wzrk = document.createElement("script");
        wzrk.type = "text/javascript";
        wzrk.async = true;
        wzrk.src =
          ("https:" == document.location.protocol
            ? "https://d2r1yp2w7bby2u.cloudfront.net"
            : "http://static.clevertap.com") + "/js/clevertap.min.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(wzrk, s);
      })();
    </script> -->

    <script type="text/javascript">
      var clevertap = {
        event: [],
        profile: [],
        account: [],
        onUserLogin: [],
        notifications: [],
        privacy: [],
      };
      // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard -> Settings page
      clevertap.account.push({ id: "TEST-8WW-745-K67Z" }, "eu1");
      clevertap.privacy.push({ optOut: false }); //set the flag to true, if the user of the device opts out of sharing their data
      clevertap.privacy.push({ useIP: false }); //set the flag to true, if the user agrees to share their IP data
      (function () {
        var wzrk = document.createElement("script");
        wzrk.type = "text/javascript";
        wzrk.async = true;
        wzrk.src =
          ("https:" == document.location.protocol
            ? "https://d2r1yp2w7bby2u.cloudfront.net"
            : "http://static.clevertap.com") + "/js/a.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(wzrk, s);
      })();
    </script>
  </head>

  <body>
    <h1>Hi this is my first demo for CleverTap's SDK Web Integration</h1>

    <button id="pushNotifBtn">Click to Enable Push Notifications</button>
    <button id="storePage">Store Page</button>

    <button id="event_01">Raise test_event_01 event</button>

    <script>
      // Fire Store_Page event on button click
      document
        .getElementById("storePage")
        .addEventListener("click", function () {
          clevertap.event.push("Store_Page");
          console.log("Store_Page event fired");
        });

      document
        .getElementById("event_01")
        .addEventListener("click", function () {
          const payload = {
            d: [
              {
                identity: "testxyz4",
                type: "event",
                evtName: "test_event_01",
                evtData: {
                  date: "$D_1765354800",
                },
              },
            ],
          };

          fetch("/send-event", {
            method: "POST",
            body: JSON.stringify(payload),
            headers: { "Content-Type": "application/json" },
          });
        });
    </script>
  </body>
</html>
